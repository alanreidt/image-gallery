(this["webpackJsonpimage-gallery"]=this["webpackJsonpimage-gallery"]||[]).push([[0],{35:function(e,a,t){},37:function(e,a,t){},41:function(e,a,t){"use strict";t.r(a);var n=t(5),c=t(0),r=t.n(c),i=t(9),s=t.n(i),l=(t(35),t(36),t(14)),d=t(7),u=(t(37),t(29)),o=t(15),j=t(19),g=t(12),h=t(25),b=t(26);function m(e){var a=e.tagInputText,t=e.isLoading,c=e.grouped,r=e.handleFormSubmit,i=e.handleTagInputChange,s=e.handleClearButtonClick,l=e.handleGroupingButtonChange;return Object(n.jsx)("div",{className:"TopBar d-flex py-4 justify-content-center",children:Object(n.jsxs)(j.a,{name:"top-bar-form",inline:!0,onSubmit:r,children:[Object(n.jsx)(j.a.Label,{htmlFor:"tag",srOnly:!0,children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u0433"}),Object(n.jsx)(j.a.Control,{name:"tag",id:"tag",className:"mr-2",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u0433",value:a,onChange:i,required:!0}),Object(n.jsx)(g.a,{type:"submit",className:"mr-2",variant:"success",disabled:t,children:t?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430\u2026":"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"}),Object(n.jsx)(g.a,{className:"mr-2",variant:"danger",onClick:s,children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"}),Object(n.jsx)(h.a,{toggle:!0,children:Object(n.jsx)(b.a,{type:"checkbox",value:"grouped",checked:c,onChange:l,children:c?"\u0420\u0430\u0437\u0433\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0413\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})})]})})}var O=t(28),f=t(17),p=t(23),x=t(27),v=t(10);function C(e){var a=e.image,t=e.handleImageCardClick,c=Object(x.a)(e,["image","handleImageCardClick"]);return Object(n.jsx)(v.a,Object(p.a)(Object(p.a)({as:"a",href:"#",className:"p-1 h-100","data-tag":a.tag,onClick:t},c),{},{children:Object(n.jsx)(v.a.Img,{src:a.src,alt:a.alt,style:{maxHeight:"300px"}})}))}function I(e){var a=e.images,t=e.handleImageCardClick;return Object(n.jsx)("div",{className:"ImageGrid",children:Object(n.jsx)(O.a,{sm:"3",children:a.map((function(e){return Object(n.jsx)(f.a,{className:"mb-4",children:Object(n.jsx)(C,{image:e,handleImageCardClick:t})},e.id)}))})})}function k(e){var a=e.images,t=e.handleImageCardClick,c=a.reduce((function(e,a){var t=a.tag,n=e.get(t);return void 0!==n?e.set(t,[].concat(Object(l.a)(n),[a])):e.set(t,[a]),e}),new Map);return Object(n.jsx)("div",{className:"GroupedImageGrid",children:Object(l.a)(c.entries()).map((function(e){var a=Object(d.a)(e,2),c=a[0],r=a[1];return Object(n.jsxs)(v.a,{className:"mb-2",children:[Object(n.jsx)(v.a.Header,{children:c}),Object(n.jsx)(I,{images:r,handleImageCardClick:t})]},c)}))})}var y,S=(y="GoyWRXL2P2hOgo4MQmrKROqrX1S3vVFI",function(e){return"https://api.giphy.com/v1/gifs/random?api_key=".concat(y,"&tag=").concat(e)}),N=function(e){var a=S(e);return fetch(a)};var T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.initialImages,t=void 0===a?[]:a,r=e.initialGrouped,i=void 0!==r&&r,s=Object(c.useState)(!1),j=Object(d.a)(s,2),g=j[0],h=j[1],b=Object(c.useState)(!1),O=Object(d.a)(b,2),f=O[0],p=O[1],x=Object(c.useState)(!1),v=Object(d.a)(x,2),C=v[0],y=v[1],S=Object(c.useState)(i),T=Object(d.a)(S,2),F=T[0],B=T[1],G=Object(c.useState)(""),w=Object(d.a)(G,2),L=w[0],H=w[1],A=Object(c.useState)(t),D=Object(d.a)(A,2),M=D[0],P=D[1];Object(c.useEffect)((function(){g&&N(L).then((function(e){return e.json()})).then((function(e){var a=e.data;if(Array.isArray(a))return h(!1),void y(!0);var t={id:a.id,src:a.image_url,tag:L,alt:L};P((function(e){return[].concat(Object(l.a)(e),[t])})),h(!1)})).catch((function(){p(!0)}))}),[g,L]);var q=function(e){e.preventDefault(),h(!0)},E=function(e){p(!1),y(!1),H(e.currentTarget.value)},J=function(){H(""),P([])},R=function(e){B(e.currentTarget.checked)},X=function(e){e.preventDefault();var a=e.currentTarget.dataset.tag||"";H(a)},_=Object(n.jsx)(I,{images:M,handleImageCardClick:X}),K=Object(n.jsx)(k,{images:M,handleImageCardClick:X});return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(m,{tagInputText:L,isLoading:g,grouped:F,handleFormSubmit:q,handleTagInputChange:E,handleClearButtonClick:J,handleGroupingButtonChange:R}),Object(n.jsxs)(u.a,{fluid:"xl",children:[Object(n.jsxs)(o.a,{variant:"danger",show:f,onClose:function(){return p(!1)},dismissible:!0,children:[Object(n.jsx)(o.a.Heading,{children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 http \u043e\u0448\u0438\u0431\u043a\u0430!"}),Object(n.jsx)("p",{children:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441, \u043b\u0438\u0431\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435."})]}),Object(n.jsxs)(o.a,{variant:"warning",show:C,onClose:function(){return y(!1)},dismissible:!0,children:[Object(n.jsx)(o.a.Heading,{children:"\u041f\u043e \u0442\u0435\u0433\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"}),Object(n.jsx)("p",{children:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0442\u0435\u0433 'cat' \u2014 \u043d\u0430\u0432\u0435\u0440\u043d\u044f\u043a\u0430, \u0447\u0442\u043e-\u043b\u0438\u0431\u043e \u043d\u0430\u0439\u0434\u0435\u0442\u0441\u044f."})]}),F?K:_]})]})},F=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,43)).then((function(a){var t=a.getCLS,n=a.getFID,c=a.getFCP,r=a.getLCP,i=a.getTTFB;t(e),n(e),c(e),r(e),i(e)}))};s.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(T,{})}),document.getElementById("root")),F()}},[[41,1,2]]]);
//# sourceMappingURL=main.9b70febe.chunk.js.map